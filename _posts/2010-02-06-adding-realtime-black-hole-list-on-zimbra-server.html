---
layout: post
title: Adding Realtime Black-hole List on Zimbra Server
categories:
- linux
tags:
- amavis
- rbl
- spam
- zimbra
status: pending
type: post
published: false
meta: {}
---
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html><body>
<p>RBL (Real time black-hole lists) can be turned on or off in SpamAssassin from the Zimbra CLI.
The three RBL’s that are enabled during installation are the following:
• reject_invalid_hostname
• reject_non_fqdn_hostname
• reject_non_fqdn_sender</p>
<p>You can set the following, in addition to the three above:
• reject_rbl_client dnsbl.njabl.org
• reject_rbl_client cbl.abuseat.org
• reject_rbl_client bl.spamcop.net
• reject_rbl_client dnsbl.sorbs.net
• reject_rbl_client sbl.spamhaus.org
• reject_rbl_client relays.mail-abuse.org</p>
<p>To turn RBL on
1. Log on to the server as 'zimbra'
2. Enter zmprov gacf | grep zimbraMtaRestriction, to see what RBLs are set.
3. To add any new RBL types, you must list the existing RBLs and the new RBLs all in one command as:
zmprov mcf zimbraMtaRestriction [RBL type]</p>
<p>To add all the possible restrictions, the command would be</p>
<p>zmprov mcf /
zimbraMtaRestriction reject_invalid_hostname /
zimbraMtaRestriction reject_non-fqdn_hostname /
zimbraMtaRestriction reject_non_fqdn_sender /
zimbraMtaRestriction "reject_rbl_client dnsbl.njabl.org" /
zimbraMtaRestriction "reject_rbl_client cbl.abuseat.org" /
zimbraMtaRestriction "reject_rbl_client bl.spamcop.net " /
zimbraMtaRestriction "reject_rbl_client dnsbl.sorbs.net " /
zimbraMtaRestriction "reject_rbl_client sbl.spamhaus.org" /
zimbraMtaRestriction "reject_rbl_client relays.mail-abuse.org"</p>
<p>Note: Quotes must be added to RBL types that are two words. </p>
</body></html>
